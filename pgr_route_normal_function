CREATE OR REPLACE FUNCTION
pgr_route(
	IN originpoint geometry,
	IN destinationpoint geometry,
	OUT seq integer,
	OUT gid integer,
	OUT osm_id integer,
	OUT name text,
	OUT heading double precision,
	OUT cost double precision,
	OUT geom geometry
)
RETURNS SETOF record AS
$BODY$
DECLARE
	sql text;
	originid integer;
	destinationid integer;
BEGIN
	EXECUTE 'SELECT get_waypoint(' || originpoint || ')' into originid;
	RAISE NOTICE 'Origin ID: %', originid;
	EXECUTE 'SELECT get_waypoint(' || destinationpoint || ')' into destinationid;
	RAISE NOTICE 'Destination ID: %', destinationid;

	RETURN;
END;
$BODY$
LANGUAGE 'plpgsql' VOLATILE STRICT;
	
